import numpy as np
import math, csv
import matplotlib.pyplot as plt
# import matplotlib.axes as ax
from scipy.interpolate import interp1d
import pandas as pd

big_arr = [["10000", "0.2", "0.4", "0.367800"],
["10000", "0.4", "0.4", "0.396100"],
["10000", "0.6", "0.4", "0.445100"],
["10000", "0.8", "0.4", "0.445500"],
["20000", "0.2", "0.4", "0.437200"],
["20000", "0.4", "0.4", "0.493300"],
["20000", "0.6", "0.4", "0.461250"],
["20000", "0.8", "0.4", "0.466400"],
["30000", "0.2", "0.4", "0.449733"],
["30000", "0.4", "0.4", "0.448500"],
["30000", "0.6", "0.4", "0.454967"],
["30000", "0.8", "0.4", "0.521467"],
["40000", "0.2", "0.4", "0.434725"],
["40000", "0.4", "0.4", "0.475800"],
["40000", "0.6", "0.4", "0.513325"],
["40000", "0.8", "0.4", "0.504100"],
["50000", "0.2", "0.4", "0.468700"],
["50000", "0.4", "0.4", "0.464880"],
["50000", "0.6", "0.4", "0.519280"],
["50000", "0.8", "0.4", "0.491240"],
["60000", "0.2", "0.4", "0.462083"],
["60000", "0.4", "0.4", "0.536217"],
["60000", "0.6", "0.4", "0.542433"],
["60000", "0.8", "0.4", "0.469850"],
["70000", "0.2", "0.4", "0.453657"],
["70000", "0.4", "0.4", "0.490200"],
["70000", "0.6", "0.4", "0.515500"],
["70000", "0.8", "0.4", "0.520829"],
["80000", "0.2", "0.4", "0.464375"],
["80000", "0.4", "0.4", "0.490150"],
["80000", "0.6", "0.4", "0.462750"],
["80000", "0.8", "0.4", "0.518450"],
["90000", "0.2", "0.4", "0.478289"],
["90000", "0.4", "0.4", "0.510889"],
["90000", "0.6", "0.4", "0.487644"],
["90000", "0.8", "0.4", "0.489711"],
["100000", "0.2", "0.4", "0.460730"],
["100000", "0.4", "0.4", "0.496920"],
["100000", "0.6", "0.4", "0.510730"],
["100000", "0.8", "0.4", "0.500290"]]

for gamma in range(1, 5):
    if gamma != 2:
        continue
    gmm = str(round(0.2*gamma, 2))
    # arr = ["0.810400", "0.796100", "0.798800", "0.799500", "0.801400", "0.796700", "0.799900", "0.799200", "0.800200", "0.800200"]
    arr = ["0.800700", "0.768100", "0.735200", "0.690300", "0.657000", "0.613000", "0.573300", "0.549200", "0.520800", "0.497200"]
    x_axis=[0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9]

    df1 = pd.DataFrame()
    df1['Alpha = 0.2, Gamma = 0.8'] = arr
    # df1['Alpha = 0.4'] = [elem[3] for elem in arr if elem[1] == "0.4"]
    # df1['Alpha = 0.6'] = [elem[3] for elem in arr if elem[1] == "0.6"]
    # df1['Alpha = 0.8'] = [elem[3] for elem in arr if elem[1] == "0.8"]
    df1.index = x_axis

    f1 = interp1d(df1.index, df1['Alpha = 0.2, Gamma = 0.8'],kind='cubic')
    # f2 = interp1d(df1.index, df1['Alpha = 0.4'],kind='cubic')
    # f3 = interp1d(df1.index, df1['Alpha = 0.6'],kind='cubic')
    # f4 = interp1d(df1.index, df1['Alpha = 0.8'],kind='cubic')

    df2 = pd.DataFrame()
    new_index = np.arange(0.0, 1.0, 0.1)
    df2['Alpha = 0.2, Gamma = 0.8'] = f1(new_index)
    # df2['Alpha = 0.4'] = f2(new_index)
    # df2['Alpha = 0.6'] = f3(new_index)
    # df2['Alpha = 0.8'] = f4(new_index)
    df2.index = new_index

    ax2 = df2.plot.line(marker='.')
    ax2.set_title('Alpha = 0.2, Gamma = 0.8')
    ax2.set_xlabel("Exploration Coefficient")
    ax2.set_ylabel("Win share")
    # plt.show()
    plt.savefig('p1_exploration.png')
